<?php
require_once "vendor/autoload.php";
require_once "app/__autoload.php";


class Work_SocketTest extends PHPUnit_Framework_TestCase{

    /**
    * @dataProvider providerMessage
    */
    public function testWrite($a, $b, $c) {
        sleep(2);
        $socket = new Work_Socket();
        $socket->createSocket();
        $this->assertEquals($c, $socket->writeToSocket($a,$b));
    }

    public function providerMessage() {
        return array(
            ['', 'Hello world', 11],
            ['1', 'Hell', 4],
            //Проверка что больше 1024 записать нельзя
            ['2', 'Lorem ipsum dolor, sit amet consectetur adipisicing elit. Laudantium temporibus facere voluptas doloribus. Nobis, similique? Laborum dolorem cupiditate quo dolores suscipit repudiandae voluptatibus dolore fugit error nisi id consectetur aspernatur quod possimus distinctio corporis sed accusantium, quasi maxime nobis! Similique facere inventore quae asperiores laudantium cum? Autem exercitationem perspiciatis velit voluptas iste adipisci ea dolorem. Distinctio nisi, quia quibusdam vitae iusto harum sint pariatur minus sed aliquam et consequatur voluptate id quos culpa, quasi voluptas amet repudiandae similique tenetur totam eos! Quibusdam sunt exercitationem vitae rerum illo ipsam, a illum velit eos itaque culpa magni dolorem minima quis nemo sapiente quidem repudiandae fuga. Laboriosam eveniet nostrum similique, natus soluta reiciendis voluptates quisquam! Porro nam illum dolorem enim, minima vero quod quis animi est sunt fuga laboriosam, ullam a, suscipit quisquam perspiciatis harum aliquam dolorum optio in. Repellat illum corrupti consectetur sapiente distinctio quaerat, officiis placeat. Necessitatibus, consectetur dolores cumque animi odio doloribus adipisci ullam illum tempora minus, nesciunt exercitationem officia. Odio, quis nesciunt molestiae dignissimos doloribus consectetur repellendus fugiat accusantium illo? Blanditiis voluptate quia mollitia suscipit, praesentium magnam ut nostrum quos alias assumenda cumque. Autem accusantium sint tempora architecto nulla? Obcaecati ducimus dicta officia, ad sunt sit reprehenderit neque ipsa mollitia totam quibusdam beatae nisi ullam odio voluptates! Nobis minus suscipit eius quos similique quisquam, hic vel fugit culpa dicta sint maiores totam beatae provident tempore unde libero sunt quibusdam veritatis ex odio alias officia minima. Placeat vel sed doloremque ratione. Neque iste, laborum inventore illum commodi exercitationem nemo, aperiam maxime quis voluptatum ipsam, quaerat quisquam illo animi qui eligendi corrupti dolore officia delectus eum nesciunt rem deleniti! Quidem delectus omnis deleniti cum ducimus. Modi fugit corporis culpa a doloribus fugiat, alias iure nam quia neque cum quibusdam non in et animi repellat. Eum pariatur, architecto asperiores repellat omnis autem commodi sint dolorem, exercitationem quisquam, minima cupiditate id officiis veritatis incidunt blanditiis laudantium. Minima officia illum eos consectetur esse quaerat quia dolorem? Quisquam vitae dolorem praesentium numquam. Iusto pariatur reprehenderit amet suscipit consequuntur, dicta molestias sit commodi nostrum perspiciatis similique eum aspernatur fugiat illo quae laborum voluptate non velit tempora nihil et illum placeat, dignissimos officiis! Iusto consequuntur corporis a natus ex, nobis id similique, maiores provident quis molestiae quam voluptates reprehenderit eaque facere saepe inventore tenetur repudiandae harum. Consectetur quod quis a ad! Perferendis, quibusdam perspiciatis veritatis, earum provident at exercitationem vel pariatur sunt reprehenderit, fugiat eos voluptate in nisi. Voluptatum, reiciendis? Illo magni in quia voluptate nesciunt earum necessitatibus assumenda expedita sed molestias cupiditate cumque quibusdam non provident error pariatur enim, commodi officiis totam! Iste facere, dolores reprehenderit, pariatur similique fugiat nihil voluptatum quasi possimus sapiente magnam placeat et laudantium eos vitae ab eveniet voluptas modi eum corporis quae vel laboriosam. At sunt minus inventore necessitatibus iste amet vitae nisi odit, eveniet quas soluta est quod exercitationem minima. Nihil accusamus explicabo molestias animi nisi nesciunt porro. Cum magnam amet voluptates sunt natus quaerat nihil doloremque vitae totam quis hic deserunt tempora ut porro eius ducimus, mollitia consectetur. Minus repellendus inventore doloribus alias, nam dicta nobis sequi at ullam maiores eaque commodi magni pariatur incidunt provident? Quasi nisi tenetur, consequuntur, vero et repudiandae, maiores quisquam molestiae cum corrupti aliquid expedita ea saepe. Maxime consectetur itaque quo animi quis omnis dicta. Est ipsa expedita pariatur ipsum. Natus autem incidunt minima magni. Totam, similique earum. Perspiciatis, temporibus. Doloremque, fuga neque atque ex consequatur magni, consectetur optio sunt voluptates quo quidem non obcaecati aliquid, accusamus id fugit aspernatur aliquam ullam autem veniam eum. Incidunt a rerum saepe fugit molestiae recusandae, cupiditate corporis? Dolorem reiciendis quis ad consequatur! Rem repellendus nisi asperiores voluptatibus assumenda tenetur facere illo et pariatur cumque eum dolore cupiditate delectus quaerat eius minima laborum, corporis quia, ipsam numquam laudantium vitae hic. Laborum dolorum debitis vero tenetur molestiae fuga dolorem adipisci reiciendis. Inventore nam aperiam deserunt, fugiat iste laboriosam alias accusamus cupiditate impedit nisi ipsam facilis, in sequi praesentium officiis vel ullam, culpa officia eveniet quidem quis maiores nobis. Et, amet est? Blanditiis suscipit debitis eaque temporibus at natus laboriosam accusamus, iusto ex, voluptatibus consequatur dolorem aut iure maiores est quisquam animi consequuntur. Recusandae modi totam aliquid repellat enim quis laboriosam accusamus unde optio inventore excepturi sequi dolor, delectus, ratione blanditiis, voluptatum odit labore aperiam magnam pariatur quisquam quod? Delectus fugit, doloribus, non nulla quidem quam quod tenetur voluptatum possimus illum aliquid nisi suscipit officiis expedita dolorem quasi porro consectetur consequuntur deserunt saepe quis? Iusto maxime exercitationem animi autem ullam error amet qui, ea et fugit soluta officiis, ipsum aliquam! Vero amet sunt doloribus fugit facilis unde nihil, incidunt recusandae nesciunt voluptas iusto. Nulla explicabo dolorem, beatae perspiciatis autem, iusto dolores ipsum minus et culpa expedita quasi nesciunt nemo quas, vitae voluptas? Tenetur adipisci eaque, inventore est, itaque reiciendis aliquid labore ea a mollitia sequi dolores dolore, sint exercitationem optio perspiciatis saepe eum aliquam nostrum veniam quo. Doloribus sunt, inventore sequi itaque, explicabo esse molestias enim nihil repudiandae, totam nemo veritatis. Natus autem provident alias consectetur. Asperiores, deserunt nemo a quaerat eius, sint hic, voluptatum natus perspiciatis adipisci consequuntur sapiente doloribus consequatur deleniti. Accusantium deserunt, libero nihil atque fugit nesciunt, hic et itaque fugiat nulla reprehenderit cum eum temporibus sequi dolor assumenda quasi voluptatibus sunt similique alias. Ipsam quam quas, nostrum dolor optio architecto quia dolore libero ea sit fugit consequuntur, ad adipisci! Dolorum reiciendis quod veritatis neque voluptatum! Incidunt asperiores quod accusantium voluptas recusandae nemo enim labore reprehenderit est! Numquam maiores quia consectetur impedit assumenda sed dolorum voluptatem, asperiores et consequatur ratione provident, alias a reiciendis nulla nesciunt eius earum eos excepturi vero? Earum, exercitationem sequi provident eos assumenda optio nam incidunt officia nulla quod saepe, similique ipsam, repellendus esse impedit libero praesentium qui vel? Labore repellendus ad commodi in cumque laudantium pariatur sunt eius, ipsum fugiat. Officiis sed porro perspiciatis eveniet iste, quos ipsam quas maxime deleniti minima labore esse itaque nulla dicta possimus ipsa magni assumenda ipsum! Amet quos, debitis impedit laborum officiis nihil repudiandae? Harum quidem alias labore fugiat totam. Corrupti sequi aperiam adipisci nesciunt ipsa eos esse vel. Repudiandae necessitatibus doloribus illum itaque amet omnis, assumenda deleniti qui aliquam praesentium sunt at? Numquam incidunt at omnis odio ipsa, soluta ipsum!', 7766]
        );
    }
    
    /**
    * @dataProvider providerWKill
    */
    public function testWKill($a, $b, $c) {
        sleep(2);
        $socket = new Work_Socket();
        $socket->createSocket();
        $this->assertEquals($c, $socket->writeToSocket($a,$b));
    }

    public function providerWKill() {
        return array(
            ['3', 'Hello world', 11],
            ['3', 'Hell', 4],
        );
    }
}
